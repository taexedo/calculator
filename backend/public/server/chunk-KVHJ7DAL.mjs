import './polyfills.server.mjs';
import{A as u,B,C as P,J as q,L as E,M as S,N as C,O as G,P as w,Q,R as X,S as K,V as W,Z as J,a as H,aa as Y,b as d,ba as Z,c as L,ca as tt,d as A,e as _,f as y,g as D,h as c,i as O,j as f,k as p,l as N,m as T,n as i,o,p as h,q as z,r as b,s as m,t as j,u as $,v as U,w as a,x as v,y as M,z as V}from"./chunk-U25Q4SKE.mjs";var xt=()=>({exact:!0}),et=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=d({type:t,selectors:[["app-navigation"]],standalone:!0,features:[u],decls:7,vars:2,consts:[[1,"navigation"],["routerLink","/","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/calculator","routerLinkActive","active"],["routerLink","/information","routerLinkActive","active"]],template:function(n,s){n&1&&(i(0,"nav",0)(1,"a",1),a(2,"home"),o(),i(3,"a",2),a(4,"calculator"),o(),i(5,"a",3),a(6,"information"),o()()),n&2&&(c(),p("routerLinkActiveOptions",B(1,xt)))},dependencies:[Y,Z],styles:[".navigation[_ngcontent-%COMP%]{height:100%;background-color:#3949ab;display:flex;align-items:center;padding-left:30px;gap:20px;z-index:1000;text-transform:capitalize}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;font-size:20px;color:#1e88e5;transition:color .3s ease-in-out}.navigation[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ffc107}.navigation[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#ffc107;font-weight:700}"]});let e=t;return e})();var nt=(()=>{let t=class t{constructor(){this.title="client"}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=d({type:t,selectors:[["app-root"]],standalone:!0,features:[u],decls:4,vars:0,template:function(n,s){n&1&&(i(0,"header"),h(1,"app-navigation"),o(),i(2,"section"),h(3,"router-outlet"),o())},dependencies:[J,et],styles:["header[_ngcontent-%COMP%]{height:80px}section[_ngcontent-%COMP%]{position:relative;height:calc(100vh - 80px);overflow-y:auto;overflow-x:hidden}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100vh;margin:0;padding:0;overflow:hidden;font-family:Kode Mono,monospace;background-color:#f5f5f5}html[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Kode Mono,monospace;font-weight:700}html[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#424242}html[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], body[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#212121}@keyframes _ngcontent-%COMP%_outerPulse{0%{box-shadow:0 0 #0003}50%{box-shadow:0 0 0 10px #0000}to{box-shadow:0 0 #0003}}.outer-pulsing[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_outerPulse 2s infinite ease-in-out}"]});let e=t;return e})();function ot({addNumber:e,addOperation:t,clearFunction:l,backspaceFunction:r,calculateFunction:n,addFloatingPoint:s,toggleHistorySidebar:g}){let I=[1,2,3,4,5,6,7,8,9].map(ht=>({buttonText:ht.toString(),class:"basic-btn",action:e})),gt=[{buttonText:"+",action:t,class:"operation-btn"},{buttonText:"-",action:t,class:"operation-btn"},{buttonText:"*",action:t,class:"operation-btn"},{buttonText:"/",action:t,class:"operation-btn"}],ft=[{buttonText:"=",action:n,class:"equals-btn"},{buttonText:"0",action:e,class:"basic-btn"},{buttonText:".",action:s,class:"basic-btn"},{buttonText:"C",action:l,class:"clear-button"}];return[...gt,...I.slice(0,3),{buttonText:"",icon:"fa fa-backspace",action:r,class:"special-function-btn"},...I.slice(3,6),{buttonText:"",icon:"fa fa-history",action:g,class:"special-function-btn"},...I.slice(6,9),...ft]}var k=/[\/\+\-\*]/,it=/^-?\d+(\.\d+)?\s[\+\-\*\/]\s-?\d+(\.\d+)?$/;var rt=(()=>{let t=class t{constructor(r){this.http=r,this.apiUrl="http://localhost:3000/history"}getHistory(){return this.http.get(this.apiUrl)}};t.\u0275fac=function(n){return new(n||t)(y(w))},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function _t(e,t){e&1&&(i(0,"p",7),a(1,"Error loading history"),o())}function yt(e,t){e&1&&(i(0,"p",7),a(1,"No history yet"),o())}function Ot(e,t){if(e&1&&(i(0,"div")(1,"p"),a(2),o()()),e&2){let l=t.$implicit;c(2),V("",l.expression," = ",l.result,"")}}function vt(e,t){if(e&1&&(i(0,"div",8),f(1,Ot,3,2,"div",9),o()),e&2){let l=m();c(),p("ngForOf",l.historyList)}}var Mt=e=>({"loading-sidebar":e}),F=(()=>{let t=class t{constructor(r){this.HistoryService=r,this.historyList=[],this.isLoading=!1,this.isError=!1,this.isOpenHistorySidebar=!1,this.toggleHistorySidebar=new H,this.onClose=()=>{this.toggleHistorySidebar.emit()}}ngOnInit(){this.getHistoryData()}getHistoryData(){this.isLoading=!0,this.HistoryService.getHistory().subscribe(r=>{this.historyList=r,this.isLoading=!1},()=>{this.isLoading=!1,this.isError=!0})}};t.\u0275fac=function(n){return new(n||t)(O(rt))},t.\u0275cmp=d({type:t,selectors:[["app-history"]],inputs:{isOpenHistorySidebar:"isOpenHistorySidebar"},outputs:{toggleHistorySidebar:"toggleHistorySidebar"},standalone:!0,features:[u],decls:10,vars:8,consts:[[1,"sidebar"],[3,"ngClass"],[1,"header"],[1,"close-button",3,"click"],[1,"fa","fa-window-close"],["class","data-problem",4,"ngIf"],["class","history-list",4,"ngIf"],[1,"data-problem"],[1,"history-list"],[4,"ngFor","ngForOf"]],template:function(n,s){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),a(4,"History"),o(),i(5,"button",3),b("click",function(){return s.onClose()}),h(6,"i",4),o()(),f(7,_t,2,0,"p",5)(8,yt,2,0,"p",5)(9,vt,2,1,"div",6),o()()),n&2&&(N("active",s.isOpenHistorySidebar),c(),p("ngClass",P(6,Mt,s.isLoading)),c(6),p("ngIf",s.isError),c(),p("ngIf",!s.isLoading&&s.historyList.length===0&&!s.isError),c(),p("ngIf",s.historyList.length!==0&&!s.isError))},dependencies:[S,E,C],styles:[".sidebar[_ngcontent-%COMP%]{position:absolute;right:0;top:0;width:250px;height:100%;transform:translate(100%);transition:transform .3s ease-in-out;background-color:#cfd8dc;box-shadow:-2px 0 4px #0000001a;overflow-y:auto}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;position:sticky;top:0;justify-content:space-between;align-items:center;background-color:#cfd8dc;padding:20px}.sidebar[_ngcontent-%COMP%]   .data-problem[_ngcontent-%COMP%]{margin-top:30px;text-align:center;font-weight:600;font-size:18px}.sidebar[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]{padding:10px}.sidebar[_ngcontent-%COMP%]   .history-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background-color:#dce3e6;margin-bottom:6px;padding:4px;border-radius:4px;font-size:14px;line-height:20px;word-wrap:break-word}.sidebar.active[_ngcontent-%COMP%]{transform:translate(0)}@keyframes _ngcontent-%COMP%_moveGradient{0%{background-position:-100em 0}to{background-position:100em 0}}.loading-sidebar[_ngcontent-%COMP%]{animation-duration:2s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-name:_ngcontent-%COMP%_moveGradient;animation-timing-function:linear;background:linear-gradient(to right,#cfd8dc 8%,#e0e0e0 18%,#cfd8dc 33%);background-size:100em 100%;height:100%;width:100%;position:absolute;-webkit-backface-visibility:hidden;inset:0}.close-button[_ngcontent-%COMP%]{padding:0;border:none;background:none;cursor:pointer;color:#1e88e5;font-size:20px}.close-button[_ngcontent-%COMP%]:hover{color:#3949ab}"]});let e=t;return e})();function Pt(e,t){if(e&1&&(i(0,"div",1),a(1),o()),e&2){let l=m();c(),M(" ",l.errorText,`
`)}}var st=(()=>{let t=class t{constructor(){this.isError=!1,this.errorText=""}ngOnInit(){setTimeout(()=>{this.isError=!1},3e3)}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=d({type:t,selectors:[["app-toast"]],inputs:{isError:"isError",errorText:"errorText"},standalone:!0,features:[u],decls:1,vars:1,consts:[["class","toast",4,"ngIf"],[1,"toast"]],template:function(n,s){n&1&&f(0,Pt,2,1,"div",0),n&2&&p("ngIf",s.isError)},dependencies:[C],styles:[".toast[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:50%;transform:translate(-50%);background-color:#f44;color:#fff;padding:10px 20px;border-radius:5px;box-shadow:0 2px 4px #0003;z-index:1000}"]});let e=t;return e})();var at=(()=>{let t=class t{constructor(r){this.http=r,this.apiUrl="http://localhost:3000/calculation",this.createCalculation=n=>this.http.post(this.apiUrl,n)}};t.\u0275fac=function(n){return new(n||t)(y(w))},t.\u0275prov=_({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function St(e,t){e&1&&(i(0,"p",10),a(1,"ERROR!"),o())}function wt(e,t){if(e&1&&(i(0,"p",11),a(1),o()),e&2){let l=m();c(),v(l.expression)}}function It(e,t){if(e&1&&(i(0,"div",12)(1,"p",13),a(2),o(),i(3,"p",14),a(4),o()()),e&2){let l=m();c(2),M("",l.expression," ="),c(2),v(l.expressionResult)}}function Tt(e,t){if(e&1&&h(0,"span"),e&2){let l=m().$implicit;T(l.icon)}}function kt(e,t){if(e&1&&(i(0,"span"),a(1),o()),e&2){let l=m().$implicit;c(),v(l.buttonText)}}function Ft(e,t){if(e&1){let l=z();i(0,"button",15),b("click",function(){let s=L(l).$implicit;return A(s.action(s.buttonText))}),f(1,Tt,1,2,"span",16)(2,kt,2,1,"span",17),o()}if(e&2){let l=t.$implicit,r=m();T(l.class||""),p("disabled",r.isLoading),c(),p("ngIf",l.icon),c(),p("ngIf",!l.icon)}}var Rt=e=>({"outer-pulsing":e}),ct=(()=>{let t=class t{constructor(r){this.CalculatorService=r,this.expression="0",this.expressionResult="",this.isOpenHistorySidebar=!1,this.isError=!1,this.isLoading=!1,this.triggerToastMessageFlag=!1,this.addNumber=n=>{if(this.cleanError(),this.resetExpressionResult(),!!this.isSafeToInput()){if(this.expression==="0"){this.expression=n;return}this.expression+=n}},this.addOperation=n=>{if(k.test(this.expression)){let g=this.expression.slice(-3);k.test(g)&&g!==` ${n} `&&(this.expression=this.expression.slice(0,-3)+` ${n} `);return}this.expression+=` ${n} `},this.addFloatingPoint=()=>{if(!this.isSafeToInput()||this.expressionResult||this.isError)return;if(/\d$/.test(this.expression)){let s=this.expression.split(" ");s[s.length-1].includes(".")||(this.expression+=".")}},this.backspaceFunction=()=>{if(!(this.expressionResult||this.isError)){if(this.expression.length===1){if(this.expression!=="0"){this.expression="0";return}return}this.expression=this.expression.slice(0,-1)}},this.calculateFunction=()=>{if(this.expressionResult||this.isError)return;it.test(this.expression)&&this.calculateExpression()},this.calculateExpression=()=>{this.isLoading=!0,this.CalculatorService.createCalculation({expression:this.expression}).subscribe(n=>{this.isLoading=!1,this.expressionResult=n.result,this.historyComponent.getHistoryData()},()=>{this.isLoading=!1,this.triggerError()})},this.clearFunction=()=>{if(this.cleanError(),this.expression!=="0"){this.expressionResult&&(this.expressionResult=""),this.expression="0";return}},this.resetExpressionResult=()=>{this.expressionResult&&(this.clearFunction(),this.expressionResult="")},this.toggleHistorySidebar=()=>{this.isOpenHistorySidebar=!this.isOpenHistorySidebar},this.triggerError=()=>{this.triggerToastMessage(),this.expression="0",this.expressionResult="",this.isError=!0},this.triggerToastMessage=()=>{this.triggerToastMessageFlag=!0,setTimeout(()=>this.triggerToastMessageFlag=!1,3e3)},this.cleanError=()=>{this.isError&&(this.isError=!1)},this.buttons=ot({addNumber:this.addNumber,addOperation:this.addOperation,clearFunction:this.clearFunction,backspaceFunction:this.backspaceFunction,calculateFunction:this.calculateFunction,addFloatingPoint:this.addFloatingPoint,toggleHistorySidebar:this.toggleHistorySidebar})}isSafeToInput(){let r=this.expression.split(" ");return console.log("expressionArray",r),console.log("expressionArray[expressionArray.length - 1].length",r[r.length-1].length),r[r.length-1].length!==12}};t.\u0275fac=function(n){return new(n||t)(O(at))},t.\u0275cmp=d({type:t,selectors:[["app-calculator"]],viewQuery:function(n,s){if(n&1&&j(F,5),n&2){let g;$(g=U())&&(s.historyComponent=g.first)}},standalone:!0,features:[u],decls:10,vars:10,consts:[[1,"container"],[1,"calculator-body"],[1,"calculator-display-container",3,"ngClass"],["class","error",4,"ngIf"],["class","expression-input",4,"ngIf"],["class","result-container",4,"ngIf"],[1,"button-container"],[3,"class","disabled","click",4,"ngFor","ngForOf"],[3,"isOpenHistorySidebar","toggleHistorySidebar"],[3,"isError","errorText"],[1,"error"],[1,"expression-input"],[1,"result-container"],[1,"expression-result"],[1,"result"],[3,"disabled","click"],[3,"class",4,"ngIf"],[4,"ngIf"]],template:function(n,s){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),f(3,St,2,0,"p",3)(4,wt,2,1,"p",4)(5,It,5,2,"div",5),o(),i(6,"div",6),f(7,Ft,3,5,"button",7),o()()(),i(8,"app-history",8),b("toggleHistorySidebar",function(){return s.toggleHistorySidebar()}),o(),h(9,"app-toast",9)),n&2&&(c(2),p("ngClass",P(8,Rt,s.isLoading)),c(),p("ngIf",s.isError),c(),p("ngIf",!s.expressionResult&&!s.isError),c(),p("ngIf",s.expressionResult&&!s.isError),c(2),p("ngForOf",s.buttons),c(),p("isOpenHistorySidebar",s.isOpenHistorySidebar),c(),p("isError",s.triggerToastMessageFlag)("errorText","Calculation error"))},dependencies:[G,E,S,C,F,st],styles:[".container[_ngcontent-%COMP%]{height:100%;padding:40px;text-align:center}.container[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]{display:inline-block;border:1px solid lightslategray;border-radius:5px;padding:20px;box-shadow:0 4px 8px #0000001a;background-color:#383836}.container[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-display-container[_ngcontent-%COMP%]{width:350px;border:1px solid lightslategray;border-radius:5px;margin-bottom:30px;text-align:end;background-color:#c4c4c4}.container[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-display-container[_ngcontent-%COMP%]   .expression-input[_ngcontent-%COMP%]{padding:20px;font-size:40px}.container[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-display-container[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]{padding:14px;overflow:hidden}.container[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-display-container[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .expression-result[_ngcontent-%COMP%]{font-size:12px;color:#789}.container[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-display-container[_ngcontent-%COMP%]   .result-container[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:100%;font-size:40px}.container[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .calculator-display-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{padding:20px;font-size:40px}.container[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:5px}.container[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:40px;width:100%;font-size:20px;cursor:pointer;border-radius:5px;box-shadow:0 4px 8px #0000001a}.container[_ngcontent-%COMP%]   .calculator-body[_ngcontent-%COMP%]   .button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{filter:brightness(90%)}.basic-btn[_ngcontent-%COMP%]{background-color:#eaebe6;color:#424242}.clear-button[_ngcontent-%COMP%]{background-color:#eaebe6;color:#d93434}.special-function-btn[_ngcontent-%COMP%], .operation-btn[_ngcontent-%COMP%]{background-color:#ffc107;color:#424242}.equals-btn[_ngcontent-%COMP%]{height:100%!important;grid-row:span 2;background-color:#ffc107;color:#424242}"]});let e=t;return e})();var lt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=d({type:t,selectors:[["app-home"]],standalone:!0,features:[u],decls:8,vars:0,consts:[[1,"home"],[1,"home-text-container"]],template:function(n,s){n&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Welcome to a simple angular calculator"),o(),i(4,"p"),a(5,'Please click on "Calculator" link in the header to begin'),o(),i(6,"p"),a(7,' For information about the task, where I got problems and general description please click on "Information" in the header'),o()()())},styles:[".home[_ngcontent-%COMP%]{height:100%;padding:40px;text-align:center}.home[_ngcontent-%COMP%]   .home-text-container[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;gap:30px;text-align:center;justify-content:center}.home[_ngcontent-%COMP%]   .home-text-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px;font-weight:600}.home[_ngcontent-%COMP%]   .home-text-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:20px}"]});let e=t;return e})();var pt=(()=>{let t=class t{};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=d({type:t,selectors:[["app-task-information"]],standalone:!0,features:[u],decls:22,vars:0,consts:[[1,"information-container"],[1,"text-container"]],template:function(n,s){n&1&&(i(0,"div",0)(1,"div",1)(2,"h1"),a(3,"Task Information"),o(),i(4,"p"),a(5,"This task represents a simple calculator written using Angular, Nest.js, and MongoDB."),o(),i(6,"h3"),a(7,"Backend:"),o(),i(8,"p"),a(9,"It took me around 3-4 hours. I spent some time watching tutorials about the framework, which gave me a clear vision of the steps."),o(),i(10,"p"),a(11,'I placed the calculation logic in the backend as I treat it as "business logic," which is sensitive.'),o(),i(12,"p"),a(13,"I was not sure how much you wanted me to extend the functionality for storing and reading data, so I created a history feature that is saved with every calculation. It might have been a good idea to demonstrate update/delete skills as well."),o(),i(14,"h3"),a(15,"Frontend:"),o(),i(16,"p"),a(17,"It took me around 15 hours in total. I did not have time to refresh my memory on how an Angular application should be structured and essentially how to write Angular code, so I did everything on the fly, which definitely slowed me down."),o(),i(18,"p"),a(19,"I believe I have covered a lot in terms of functionality and did not find any bugs."),o(),i(20,"p"),a(21,"I styled everything based on my unique design views."),o()()())},styles:[".information-container[_ngcontent-%COMP%]{height:100%;padding:40px}.information-container[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]{text-align:center;display:flex;flex-direction:column;gap:15px;width:100%}.information-container[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:30px;font-weight:600}.information-container[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:22px;font-weight:600;margin-top:20px}.information-container[_ngcontent-%COMP%]   .text-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{line-height:20px}"]});let e=t;return e})();var dt=[{path:"",component:lt},{path:"calculator",component:ct},{path:"information",component:pt}];var ut={providers:[tt(dt),K(),D(Q)]};var Ht={providers:[W()]},mt=q(ut,Ht);var Lt=()=>X(nt,mt),Me=Lt;export{Me as a};
